<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>{{ context.user_name }}'s Schedule</title>
    <link rel="stylesheet" href="/static/style.css">
    <style>
      body { background:#161b22; color:#e6edf3; font-family:sans-serif; }
      .container { max-width:400px; margin:0 auto; padding:12px; }
      .week-label { text-align:center; margin-top:16px; font-weight:600; font-size:1.2em; }
      .status-main { text-align:center; font-size:1.12em; margin:1.2em 0 0.4em 0; }
      .status-sub { text-align:center; opacity:0.8; margin-bottom:0.6em; }
      .timing { text-align:center; font-size:1.2em; margin-bottom:1.3em; letter-spacing:1px; }
      .schedule-block { border-radius:13px; margin:7px 0; padding:10px 14px; display:flex; flex-direction:column; border:2px solid #344; background:#222b; transition:border-color 0.5s, box-shadow 0.5s; }
      .course { border-color: #ff4343; box-shadow:0 0 13px #ff434359; }
      .break {  border-color: #48e77f; box-shadow:0 0 10px #48e77f33; }
      .schedule-block.current {  background:#222c44; border-width: 3px; }
      .time-label { font-weight:500; }
      @media (max-width:430px) { .container { max-width:100vw; padding:4vw; } }
      /* Small animation for block highlight */
      .fade-in { animation: fadeIn .8s; }
      @keyframes fadeIn { from { opacity:0; transform:scale(0.96);} to {opacity:1; transform:scale(1);} }
      
      /* Date Navigation */
      .date-nav { display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; font-size:1.3em; background: #222b; padding: 10px; border-radius: 12px; border: 1px solid #344; }
      .nav-arrow { text-decoration:none; color:#e6edf3; padding:5px 15px; font-weight:bold; font-size: 1.2em; user-select: none; }
      .nav-arrow:hover { background: #344; border-radius: 8px; }
      .date-display { font-weight:600; }
    </style>
</head>
<body>
<div class="container">
    <div class="date-nav">
        <a href="/?date={{ context.prev_date }}" class="nav-arrow">&lt;</a>
        <span class="date-display">{{ context.date_display }}</span>
        <a href="/?date={{ context.next_date }}" class="nav-arrow">&gt;</a>
    </div>
    <div class="week-label" id="week-label">{{ context.week_label }}</div>
    <div class="status-main" id="status-main">{{ context.status_main }}</div>
    <div class="status-sub" id="status-sub">{{ context.status_sub }}</div>
    <div class="timing" id="current-time">{{ context.now }}</div>

    <div id="schedule-list">
        {% for b in context.blocks %}
            <div class="schedule-block {{ 'course' if b.type == 'course' else 'break' }} {{ 'current fade-in' if b.is_current else '' }}">
                <div class="time-label">{{ b.start }} â€“ {{ b.end }}</div>
                {% if b.type == 'course' %}
                <div class="title">{{ b.title }}</div>
                {% else %}
                <div class="title">Liber</div>
                {% endif %}
            </div>
        {% endfor %}
    </div>
</div>
<script src="/static/schedule.js"></script>
</body>
</html>

